//////////////////////////////////////////////////////////////////////////////////////
/// SCRIPTOR.JS - CREATED BY GITHUB.COM/MARKETINGPIPELINE
// A LIBRARY FOR BUILDING YOUR OWN CUSTOMIZABLE TEXT EDTIORS 
// LICENSED UNDER MIT LICENSE
// MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Scriptor.js/
//////////////////////////////////////////////////////////////////////////////////////

let form=document.getElementById("text-editor");if(null!=form){var c=0,d=0;function e(){var a="";return window.getSelection?a=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(a=document.selection.createRange().text),a}function f(a,b,h=!0){let e=a.trim(),d=b;if(console.log(d),!0==e.startsWith(`<${d}>`)){if(console.log(b),e.length>=d.length){var c=(a=a.replace(`<${b}>`,"")).match(`</${b}>`);if(null!=c){var g=c[c.length-1];a=a.replace(`${g}`,"")}var f=`${a}`}}else if(!0==e.startsWith(`${d}`)){if(console.log("fdxsxs"),e.length>=d.length)var c=(a=a.replace(`${b}`,"")).match(`${b}`),g=c[c.length-1],f=`${a=a.replace(`${g}`,"")}`}else if(!0==h)var f=`<${b}>${a}</${b}>`;else{console.log(h);var f=`${b}${a}${b}`}return f}form.addEventListener("click",function(){d=form.selectionEnd},!1),form.addEventListener("input",function(a){d=form.selectionEnd,form.value}),window.addEventListener("load",function(a){form.value});for(var b=document.querySelectorAll("[id=text-editor-btn]"),a=0;a<b.length;a++)b[a].addEventListener("click",function(a){a.target.getAttribute("insert")&&(form.value=form.value.substring(0,d)+a.target.getAttribute("value")+form.value.substring(d,form.value.length)),""!=e()||a.target.getAttribute("insert")||("false"==a.target.getAttribute("htmltags")?"false"==a.target.getAttribute("wrap")?form.value=form.value+a.target.getAttribute("value"):form.value=form.value+a.target.getAttribute("value")+a.target.getAttribute("value"):form.value=form.value.substring(0,d)+f("",a.target.getAttribute("value"),!0)+form.value.substring(d,form.value.length)),""!=e()&&("True"==a.target.getAttribute("wrap")?"false"==a.target.getAttribute("htmltags")?form.value=form.value.replace(e(),f(e(),a.target.getAttribute("value"),!1)):form.value=form.value.replace(e(),f(e(),a.target.getAttribute("value"))):!0==e().startsWith(a.target.getAttribute("value"))?form.value=form.value.replace(a.target.getAttribute("value"),""):form.value=form.value.replace(e(),a.target.getAttribute("value")+e()))})}
